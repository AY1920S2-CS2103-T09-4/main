<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Wang Yuchen - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-3</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level4">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">AddressBook-Level3</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level3"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Wang Yuchen - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-fithelper"><a class="link" href="#project-fithelper">PROJECT: FitHelper</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>FitHelper</strong> is a desktop diet-and-exercise-recording application made for Users who want to keep fit.
It enables users to record their basic profile data, weight records, daily food intake and sports.
Rather than just keeping the raw data, <strong>FitHelper</strong> also provided useful analysis and other customized services, such as calendar view and reminders.</p>
</div>
<div class="paragraph">
<p>The application is mainly written in <strong>Java</strong> and built by a considerable <strong>19k Lines of Code</strong>.
The codebase is well-maintained by reasonable amount of tests.
A detailed and comprehensive set of guides are also provided for both application developers and users.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement 1</strong>: added the ability to <strong>undo/redo previous commands</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows the user to undo all previous commands one at a time. Preceding undo commands can be reversed by using the redo command.</p>
</li>
<li>
<p>Justification: This feature improves the product significantly because a user can make mistakes in commands and the app should provide a convenient way to rectify them.</p>
</li>
<li>
<p>Highlights: This enhancement required an in-depth analysis of design alternatives. The implementation too was challenging as it required changes to existing models.</p>
</li>
<li>
<p>Credits: The proposed "undo/redo" features in AddressBook3 Developer Guide has guided the design of this feature in this project.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major enhancement 2</strong>: added the feature of <strong>Today Page</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows the user to view food/sports entries on today, visualize the distribution of calories in their diet, and obtain feedback for their performance.</p>
</li>
<li>
<p>Justification: This feature improves the product significantly because a user usually need to overview the today schedule and adjust the daily arrangement.</p>
</li>
<li>
<p>Highlights: This enhancement affects existing commands and commands to be added in future. It required an in-depth analysis of design alternatives. The implementation too was challenging as it required changes to existing commands.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major enhancement 3</strong>: <strong>GUI</strong> main structure [<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/145">#145</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/147">#147</a>]</p>
<div class="ulist">
<ul>
<li>
<p>Justification: This enhancement builds the FitHelper GUI from scratch, creates the main structure of pages, enables page switches and logic-model-GUI connection.</p>
</li>
<li>
<p>Justification: This feature improves the product significantly because a user usually need to overview the today schedule and adjust the daily arrangement.</p>
</li>
<li>
<p>Highlights: This enhancement affects existing commands and commands to be added in future. It required an in-depth analysis of design alternatives. The implementation too was challenging as it required changes to existing commands.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://nus-cs2103-ay1920s2.github.io/tp-dashboard/#search=alice&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2020-02-14&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=true&amp;tabType=authorship&amp;tabAuthor=WANG-Yuchen-Alice&amp;tabRepo=AY1920S2-CS2103-T09-4%2Fmain%5Bmaster%5D">RepoSense Link</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project Refactor</p>
<div class="ulist">
<ul>
<li>
<p>Initialize new model for FitHelper [<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/85">#85</a>]</p>
</li>
<li>
<p>Refactor and re-implement basic commands: <code>add</code>, <code>edit</code>, <code>delete</code>, <code>clear</code>, <code>exit</code>, <code>list</code> [<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/86">#86</a>]</p>
</li>
<li>
<p>Enhanced Commands: <code>reminder</code>, <code>find</code> [<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/100">#100</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/177">#177</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/191">#191</a>]</p>
</li>
</ul>
</div>
</li>
<li>
<p>GUI</p>
<div class="ulist">
<ul>
<li>
<p>DashBoard - entry master list [<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/174">#174</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/177">#177</a>]</p>
</li>
<li>
<p>Today Page - daily schedule and performance assessment [<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/201">#201</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/236">#236</a>]</p>
</li>
<li>
<p>Diary Page - add/edit/append/delete diaries [<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/209">#209</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/211">#211</a>]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Test</p>
<div class="ulist">
<ul>
<li>
<p>Wrote additional tests for existing features to increase coverage to 29% [<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/319">#319</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/320">#320</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/321">#321</a>]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation</p>
<div class="ulist">
<ul>
<li>
<p>UG Draft1 [<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/90">#90</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/91">#91</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/95">#95</a>]</p>
</li>
<li>
<p>DG Use Cases [<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/97">#97</a>][<a href="https://github.com/AY1920S2-CS2103-T09-4/main/pull/99">#99</a>]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Participated in releases <code>v1.3</code> - <code>v1.4</code> (2 releases) on GitHub by creating and updating jar files</p>
</li>
</ul>
</div>
</li>
<li>
<p>Managed issues on GitHub and assigned issues to corresponding Milestones and team membersManaged issues on GitHub and assigned issues to corresponding Milestones and team members.</p>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reported bugs and suggestions for other teams (example: <a href="https://github.com/WANG-Yuchen-Alice/ped/issues">PED</a>)</p>
</li>
<li>
<p>Reviewed User Guide and Developer Guide for other teams in class (example:https://github.com/nus-cs2103-AY1920S2/addressbook-level3/pull/3[Inclass Peer Review])</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Set up Travis to perform Continuous Integration (CI) for the group fork</p>
</li>
<li>
<p>Integrated a third party Tool (Coverall) to the project (<a href="https://github.com">#42</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Sections I contributed to the User Guide include <strong>4.2 Keep Food and Sports Entries</strong>: <code>add</code>, <code>list</code>, <code>reminder</code>, <code>edit</code>, <code>find</code>, <code>delete</code>;
<strong>4.3 Keep Diaries</strong>, <strong>4.5 Undo</strong>, <strong>4.6 Redo</strong>, <strong>4.8 Daily Summary</strong>,  <strong>4.9 Weekly Summary</strong>, <strong>4.12 Exit</strong>.<br>
They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[NOTE]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Due to page limit, only selected sections are included below. Please refer to User Guide for more sections.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="editing-an-entry-code-edit-code"><a class="link" href="#editing-an-entry-code-edit-code">Editing an entry : <code>edit</code></a></h4>
<div class="paragraph">
<p>Edits an existing entry in the fitness log book with the specified values.<br>
Format: <code>edit x/TYPE i/INDEX [s/STATUS] [n/NAME] [t/TIME] [l/LOCATION] [c/CALORIE][dr/DURATION]&#8230;&#8203;</code><br></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>At least one of the optional fields must be provided.</p>
</li>
<li>
<p>If the user is currently in other pages, a successful execution of <code>edit</code> will switch the page to the dashboard.</p>
</li>
<li>
<p>To obtain accurate indices, the user should first switch to the home page by calling <code>home</code> or <code>list</code> and refer to the displayed list in <code>food entry history</code> and <code>sport entry history</code> fields.</p>
</li>
<li>
<p>Additionally, the user can first called <code>find</code> command and then refer to the resulting list&#8217;s indices to <code>edit</code> an entry. However, right after a <code>find</code>, the user can only refer to entries that are currently displayed.<br>
i.e. If there are 5 food entries in total, and after <code>find</code> 2 food entries are displayed. If the user does not switch back to the home page, he can only refer to the displayed 2 entries (with indices 1 and 2). He can <code>edit</code> any entries only when he turns to home page after the <code>find</code>.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:
(after switching to Home Page)
* <code>edit x/s i/1 t/2020-04-05-16:00 l/PGP gym</code><br>
Edits the time and email location of the 1st entry to be <code>Friday 4pm</code> and <code>PGP gym</code> respectively.</p>
</div>
<div class="sect4">
<h5 id="mark-an-entry-as-done"><a class="link" href="#mark-an-entry-as-done">Mark an entry as done</a></h5>
<div class="paragraph">
<p>Users can mark an entry as done, either a meal or sports, where the calories intake and consumption will be taken in to consideration.
Format: <code>edit x/TYPE i/INDEX s/Done</code></p>
</div>
</div>
<div class="sect4">
<h5 id="mark-an-entry-as-undone"><a class="link" href="#mark-an-entry-as-undone">Mark an entry as undone</a></h5>
<div class="paragraph">
<p>Similar to the previous command, marking an entry as undone edits the <code>s/</code> field and modify it as <code>Undone</code>.
Format: <code>edit x/TYPE i/INDEX s/Undone</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="find-a-diary-code-finddiary-code"><a class="link" href="#find-a-diary-code-finddiary-code">Find a diary: <code>findDiary</code></a></h4>
<div class="ulist">
<ul>
<li>
<p><code>findDiary [d/DATE] [k/ONE OR MORE KEYWORDS]</code><br>
finds diaries either on the specified <code>DATE</code> or contains the specified <code>KEYWORDS</code>.<br>
Both <code>DATE</code> and <code>KEYWORDS</code> fields are optional. If neither appear, FitHelper will display all diaries.<br>
If there is no diary under the specified <code>DATE</code>, this command will be discarded with the reminder of
<code>DIARY_NOT_FOUND</code>.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The field <code>DATE</code> has higher priority than <code>KEYWORDS</code> in the search.
i.e. If the <code>DATE</code> field is non-empty, regardless of the presence and the content of the <code>KEYWORDS</code> field,
the diary under that date will be displayed. If the specified <code>DATE</code> contains no previous diary logs,
no diary will be listed.</p>
</li>
<li>
<p>If the field <code>DATE</code> is left empty, only the <code>KEYWORDS</code> field is considered in the search,
similar to the case of <code>find</code> command for food/sport entries.</p>
</li>
<li>
<p>The keyword searching rules are the same as in <code>Section 4.2.5 Locating entries by name : <strong>find</strong></code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>findDiary k/running</code><br>
Displays diaries with their content containing the keyword <code>running</code>, ignoring the letter capitalization.</p>
</li>
<li>
<p><code>find d/2020-03-31 k/cake</code><br>
Returns the diary on the date of <code>2020-03-31</code> regardless of the <code>KEYWORDS</code> field.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="undo-code-undo-code"><a class="link" href="#undo-code-undo-code">Undo : <code>undo</code></a></h3>
<div class="paragraph">
<p><code>undo</code> revokes the last undoable command.<br>
This command back-roll FitHelper to the previous status before the last undoable command was executed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Undoable commands include: <code>add</code>, <code>edit</code>, <code>delete</code>, <code>clear</code>, <code>addDiary</code>, <code>appendDiary</code>, <code>editDiary</code>, <code>deleteDiary</code>, <code>clearDiary</code>.
Other commands are not affected by <code>undo</code> command. The same applies for <code>redo</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
After executing <code>undo</code> or <code>redo</code>, FitHelper switches to <code>Home Page</code> (<code>DashBoard</code>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>undo</code> (after <code>addDiary d/2020-03-31 dc/I am happy.</code>)<br>
This <code>undo</code> commands remove the added diary log from FitHelper.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="today-page-code-today-code"><a class="link" href="#today-page-code-today-code">Today Page: <code>today</code></a></h4>
<div class="paragraph">
<p>Today page serves to be a summary for the daily arrangements.<br>
It shows the daily schedule for the user. Users can see the entries for the day, a recommended lunch place, and their performances. They can also see their diary for the day as well as the rewarding point.<br>
Format: <code>today</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Daily Food/Sports Entries</strong><br>
The lists of food and sports entries on "today" are displayed in two list view, with indices in chronological order specific for today.</p>
</li>
<li>
<p><strong>Plan Counter</strong><br>
The 4 counters keep track of the number of done/undone food/sports plans on today.</p>
</li>
<li>
<p><strong>Calorie Report</strong><br>
Calorie report contains the data of daily calorie intake/consumption from done food/sports entries correspondingly.
The food calorie pie chart consists of all food entries on today, regardless of the status. The labels are the corresponding indices
of the food entries in <code>Today&#8217;s Food</code> list.
From the pie chart, the user can view the component of calorie intake of each food entry, so he/she can adjust the diet plan.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
In cases where some food entries contribute to the great majority of the total food intake, the pie chart only displays labels for
food entries that contain relatively high calorie values.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>Task Completion</strong><br>
The user&#8217;s daily task completion is shown in percentage (round to integer).</p>
</li>
<li>
<p><strong>FitHelper Feedback</strong><br>
Based on the user&#8217;s intake food calorie and sport task completion, FitHelper provides suggestions and reminders
in the <code>FitHelper Feedback</code> area.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[NOTE]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Due to page limit, the activity diagram of UndoRedo feature is not shown. Refer to Developer Guide for the diagram</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="today-feature"><a class="link" href="#today-feature">Today Feature</a></h3>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p>FitHelper&#8217;s entries have a <code>Time</code> attribute including a <code>Date</code> and a specific <code>Time</code> in the format of <code>yyyy-mm-dd HH:mm</code>.
Today feature allows the user to view entries with the <code>Date</code> of today, i.e. shows only entries in today.
It fetches the <code>todayFoodEntries</code> and <code>todaySportsEntries</code> stored in FitHelper storage. Because the display of these two lists
have the same logic, they are illustrated as <code>todayEntries</code> in this section, as a whole.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In <code>FitHelper</code>, the <code>UniqueEntryList&lt;Entry&gt; todayEntries</code> contains all entries on today.
The list is updated whenever changes are made to the general UniqueEntryList&lt;Entry&gt; entries which contains entries of all dates.</p>
</li>
<li>
<p>A <code>FilteredList&lt;Entry&gt; filteredTodayEntries</code> is stored in the <code>ModelManager</code>. <code>filteredTodayEntries</code>
in the ModelManager is initialized with this <code>UniqueEntryList&lt;Entry&gt;</code> by converting it to an <code>ObservableList&lt;Entry&gt;</code>.</p>
</li>
<li>
<p><code>Today Page</code> takes in <code>todayEntries</code> as a parameter when it is initialized. The list is always displayed on the GUI page as a ListView.</p>
</li>
<li>
<p>When the <code>today</code> command is executed, FitHelper switches to <code>Today Page</code> where the entries on today can be seen.</p>
</li>
<li>
<p>Other features implemented in <code>Today Page</code>, like <code>daily calorie calculation</code>, <code>daily task completion</code>, and <code>dialy performance assessment</code>,
all depend on the data carried by the passed in list.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An example usage scenario and how the <code>today</code> mechanism behaves at each step is shown below.</p>
</div>
<div class="paragraph">
<p><strong>Step 1.</strong> The user launches the application for the first time.
<code>UniqueEntryList</code> will be initialized with a list of default entries in FitHelper, which contains a few entries with various dates.
<code>UniqueTodayEntryList</code> will be initialized concurrently by filtering out entries on today.</p>
</div>
<div class="paragraph">
<p><strong>Step 2.</strong> <code>MainWindow</code> fetches <code>ObservableList&lt;Entry&gt; todayEntries</code>.
<code>Today Page</code> is initialized in <code>MainWindow</code> with the <code>ObservableList&lt;Entry&gt; todayEntries</code> passed from the model.</p>
</div>
<div class="paragraph">
<p><strong>Step 3.</strong> The user inputs <code>today</code> to view all today entries. <code>UI</code> passes the input to <code>Logic</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 4.</strong> Logic passes the user input to <code>FitHelperParser</code>. <code>FitHelperParser</code> identifies that this is a <code>TodayCommand</code>
through the word "today".
It then creates a <code>TodayCommandParser</code> to parse the it into a <code>TodayCommand</code> and return.</p>
</div>
<div class="paragraph">
<p><strong>Step 5.</strong> <code>Logic</code> gets the <code>TodayCommand</code> and execute it.
This execution then returns a <code>CommandResult</code> to <code>UI</code>, containing the success message and a specified displayed page of <code>Today Page</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 5.</strong> <code>UI</code> displays the response in the <code>CommandResult</code>.
<code>UI</code> also switches FitHelper to <code>Today Page</code>, where the continuously updated
<code>todayEntryList</code> is displayed, since <code>UI</code> is constantly listening for the change in <code>Model</code>.</p>
</div>
<div class="paragraph">
<p>The Sequence Diagram below shows how the components interact with each other for the above mentioned scenario.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/InitiateTodayPageSequenceDiagram.png" alt="InitiateTodayPageSequenceDiagram">
</div>
<div class="title">Figure 1. Sequence Diagram for Today Feature</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="diary-feature"><a class="link" href="#diary-feature">Diary Feature</a></h3>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<div class="paragraph">
<p>FitHelper also allows the user to keep a diary with a <code>Date</code> in the format of <code>yyyy-mm-dd</code> and the <code>content</code> with no more than 200 characters.
The diaries are represented as model <code>Diary</code> with the attributes of <code>DiaryId</code>, <code>DiaryDate</code>, and <code>Content</code>.
This feature allows the user to view their diaries.
It fetches the <code>filteredDiaryList</code> stored in FitHelper storage.</p>
</div>
<div class="paragraph">
<p>The diary feature is facilitated by
<a href="https://docs.oracle.com/javase/8/javafx/api/javafx/collections/transformation/FilteredList.html">FilteredList</a>
which wraps a ObservableList and
filters using the provided Predicate.
A <code>FilteredList&lt;Diary&gt; filteredDiaries</code> is stored in the <code>ModelManager</code>.
In <code>FitHelper</code>, there is an
<code>ObservableList&lt;Diary&gt; diaries</code> which contains all diaries, regardless of its <code>DiaryDate</code>. <code>filteredDiaries</code>
in the ModelManager is initialized with this ObservableList.</p>
</div>
<div class="paragraph">
<p>Since a FilteredList needs a Predicate, which matches the elements in the source list that should be visible, the filter mechanism implements the following operation to support filtering:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Model#updateFilteredDiaryList(Predicate&lt;Diary&gt; predicate)</code>&#8201;&#8212;&#8201;Sets the value of the property Predicate in the <code>filteredDiaries</code>.</p>
<div class="ulist">
<ul>
<li>
<p>The predicate is declared statically in the <code>Model</code> interface, namely
<code>PREDICATE_SHOW_ALL_DIARIES</code>.
In particular <code>PREDICATE_SHOW_ALL_DIARIES</code> is as follows</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="predefined-type">Predicate</span>&lt;Diary&gt; PREDICATE_SHOW_ALL_DIARIES = unused -&gt; <span class="predefined-constant">true</span>;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>DiaryCommand</code> will call this method to change the visibility of diaries with different status by passing in the corresponding predicate.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An example usage scenario and how the diary mechanism behaves at each step is shown below.</p>
</div>
<div class="paragraph">
<p><strong>Step 1.</strong> The user launches the application for the first time.
<code>UniqueDiaryList</code> contains no default diaries before the user adds any.</p>
</div>
<div class="paragraph">
<p><strong>Step 2.</strong> The user inputs <code>diary</code> to list all diaries. <code>UI</code> passes the input to <code>Logic</code>.
Logic then uses a few <code>Parser</code> classes to extract layers of information out as seen from steps 3 to 5.</p>
</div>
<div class="paragraph">
<p><strong>Step 3.</strong> Logic passes the user input to <code>FitHelperParser</code>. <code>FitHelperParser</code> identifies that this is a <code>DiaryCommand</code>
through the word "diary".
It then creates a
<code>DiaryCommandParser</code> to parse the it into a <code>DiaryCommand</code> and return.</p>
</div>
<div class="paragraph">
<p><strong>Step 4.</strong> <code>Logic</code> finally gets the <code>DiaryCommand</code> and execute it.
The execution firstly calls
<code>Model#updateFilteredDiaryList(Predicate&lt;Diary&gt; predicate)</code> to update the Predicate in
<code>filteredDiaries</code> in <code>Model</code>.
This execution then returns a <code>CommandResult</code> to <code>UI</code>, containing the response to the user.</p>
</div>
<div class="paragraph">
<p><strong>Step 5.</strong> <code>UI</code> displays the response in the <code>CommandResult</code>.
In addition, UI will change to display diaries after model updates <code>filteredDiaries</code>, since <code>UI</code> is constantly listening for the change in <code>Model</code>.</p>
</div>
<div class="paragraph">
<p>The Sequence Diagram below shows how the components interact with each other for the above mentioned scenario.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DiarySequenceDiagram.png" alt="DiarySequenceDiagram">
</div>
<div class="title">Figure 2. Sequence Diagram for Diary Feature</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="undo-redo-feature"><a class="link" href="#undo-redo-feature">Undo/Redo feature</a></h3>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by <code>VersionedFitHelper</code>.
It extends <code>FitHelper</code> with an undo/redo history, stored internally as an <code>fitHelperStateList</code> and <code>currentStatePointer</code>.
Additionally, it implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VersionedFitHelper#commit()</code>&#8201;&#8212;&#8201;Saves the current FitHelper state in its history.</p>
</li>
<li>
<p><code>VersionedFitHelper#undo()</code>&#8201;&#8212;&#8201;Restores the previous FitHelper state from its history.</p>
</li>
<li>
<p><code>VersionedFitHelper#redo()</code>&#8201;&#8212;&#8201;Restores a previously undone FitHelper state from its history.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code>Model</code> interface as <code>Model#commit()</code>, <code>Model#undo()</code> and <code>Model#redo()</code> respectively.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the undo/redo mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>VersionedFitHelper</code> will be initialized with the initial FitHelper state, and the <code>currentStatePointer</code> pointing to that single FitHelper state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoState0.png" alt="UndoRedoState0" width="35%">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>delete x/f i/5</code> command to delete the 5th food entry in the FitHelper. The <code>delete</code> command calls <code>Model#commit()</code>, causing the modified state of the FitHelper after the <code>delete x/f i/5</code> command executes to be saved in the <code>fitHelperStateList</code>, and the <code>currentStatePointer</code> is shifted to the newly inserted FitHelper state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoState1.png" alt="UndoRedoState1" width="35%">
</div>
</div>
<div class="paragraph">
<p>Step 3. The user executes <code>add x/f n/apple &#8230;&#8203;</code> to add a new food entry. The <code>add</code> command also calls <code>Model#commit()</code>, causing another modified FitHelper state to be saved into the <code>fitHelperStateList</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoState2.png" alt="UndoRedoState2" width="35%">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not call <code>Model#commit()</code>, so the FitHelper state will not be saved into the <code>fitHelperStateList</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 4. The user now decides that adding the food entry was a mistake, and decides to undo that action by executing the <code>undo</code> command. The <code>undo</code> command will call <code>Model#undo()</code>, which will shift the <code>currentStatePointer</code> once to the left, pointing it to the previous FitHelper state, and restores the FitHelper to that state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoState3.png" alt="UndoRedoState3" width="35%">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentStatePointer</code> is at index 0, pointing to the initial FitHelper state, then there are no previous FitHelper states to restore. The <code>undo</code> command uses <code>Model#canundo()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the undo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoSequenceDiagram.png" alt="UndoSequenceDiagram">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>UndoCommand</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>redo</code> command does the opposite&#8201;&#8212;&#8201;it calls <code>Model#redo()</code>, which shifts the <code>currentStatePointer</code> once to the right, pointing to the previously undone state, and restores the FitHelper to that state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentStatePointer</code> is at index <code>fitHelperStateList.size() - 1</code>, pointing to the latest FitHelper state, then there are no undone FitHelper states to restore. The <code>redo</code> command uses <code>Model#canRedo()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the redo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 5. The user then decides to execute the command <code>list</code>. Commands that do not modify the FitHelper, such as <code>list</code>, will usually not call <code>Model#commit()</code>, <code>Model#undo()</code> or <code>Model#redo()</code>. Thus, the <code>fitHelperStateList</code> remains unchanged.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoState4.png" alt="UndoRedoState4" width="35%">
</div>
</div>
<div class="paragraph">
<p>Step 6. The user executes <code>clear</code>, which calls <code>Model#commit()</code>. Since the <code>currentStatePointer</code> is not pointing at the end of the <code>fitHelperStateList</code>, all FitHelper states after the <code>currentStatePointer</code> will be purged. We designed it this way because it no longer makes sense to redo the <code>add n/David &#8230;&#8203;</code> command. This is the behavior that most modern desktop applications follow.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoState5.png" alt="UndoRedoState5" width="35%">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CommitActivityDiagram.png" alt="CommitActivityDiagram" width="30%">
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2020-04-13 10:58:43 UTC</div></div></div></body></html>